<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Fri Dec 09 17:11:17 PST 2016 -->
<title>ImageLoader</title>
<meta name="date" content="2016-12-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ImageLoader";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":9,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImageLoader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/GetProducts.WmpJsonReader.html" title="class in com.barryholroyd.prodlisthpdemo.product_info"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.LiAsyncTask.html" title="class in com.barryholroyd.prodlisthpdemo.product_info"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html" target="_top">Frames</a></li>
<li><a href="ImageLoader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.barryholroyd.prodlisthpdemo.product_info</div>
<h2 title="Class ImageLoader" class="title">Class ImageLoader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.barryholroyd.prodlisthpdemo.product_info.ImageLoader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ImageLoader</span>
extends java.lang.Object</pre>
<div class="block">Load and display an image.

 This class loads and displays the thumbnail image associated with each product.
 When the app downloads the JSON data representing a list of products, it uses
 this object to obtain the associated images.
 <p>
     ImageLoader checks to see if the image is in the memory cache; if not, it uses
     a worker thread to check the disk cache; if the image isn't there, then the
     worker thread downloads it from the network.
 <p>
     Regardless of how the image is obtained, it is displayed when it is available.
     In the case of the Product List page, it is displayed in the correct row; if
     that row is no longer being displayed, the image is cached but not displayed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.LiAsyncTask.html" title="class in com.barryholroyd.prodlisthpdemo.product_info">ImageLoader.LiAsyncTask</a></span></code>
<div class="block">AsyncTask-based version of loading the image in the background.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.LiThread.html" title="class in com.barryholroyd.prodlisthpdemo.product_info">ImageLoader.LiThread</a></span></code>
<div class="block">Threads-based version of loading the image in the background.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static android.graphics.Bitmap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#blankImageBitmap">blankImageBitmap</a></span></code>
<div class="block">Blank image bitmap used to fill the header "image" slot.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../com/barryholroyd/prodlisthpdemo/cache_disk/CacheDiskImage.html" title="class in com.barryholroyd.prodlisthpdemo.cache_disk">CacheDiskImage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#cacheDiskImage">cacheDiskImage</a></span></code>
<div class="block">Disk caching instance (singleton).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../com/barryholroyd/prodlisthpdemo/cache_memory/CacheMemoryImage.html" title="class in com.barryholroyd.prodlisthpdemo.cache_memory">CacheMemoryImage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#cacheMemory">cacheMemory</a></span></code>
<div class="block">In-memory caching instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#currentUrl">currentUrl</a></span></code>
<div class="block">This stores the most current requested url for the ViewHolder instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#IMAGE_HSIZE">IMAGE_HSIZE</a></span></code>
<div class="block">Max.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#IMAGE_WSIZE">IMAGE_WSIZE</a></span></code>
<div class="block">Max.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private android.content.res.Resources</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#resources">resources</a></span></code>
<div class="block">Resources hook.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.ref.WeakReference&lt;android.app.Activity&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#wrActivity">wrActivity</a></span></code>
<div class="block">Weak Reference for using the Activity in background threads.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#ImageLoader-android.app.Activity-">ImageLoader</a></span>(android.app.Activity&nbsp;a)</code>
<div class="block">Standard constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#checkUrlChanged-java.lang.String-java.lang.String-java.lang.String-">checkUrlChanged</a></span>(java.lang.String&nbsp;label,
               java.lang.String&nbsp;url,
               java.lang.String&nbsp;currentUrl)</code>
<div class="block">Check to see if the url has changed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) static android.graphics.Bitmap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#getBlankImageBitmap--">getBlankImageBitmap</a></span>()</code>
<div class="block">Create a blank image.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) static android.graphics.Bitmap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#getNoImageBitmap-android.content.res.Resources-">getNoImageBitmap</a></span>(android.content.res.Resources&nbsp;resources)</code>
<div class="block">Get the default image.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#load-android.widget.ImageView-java.lang.String-">load</a></span>(android.widget.ImageView&nbsp;iv,
    java.lang.String&nbsp;url)</code>
<div class="block">Load an image into an ImageView.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private android.graphics.Bitmap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#setImageDiskCache-java.lang.String-">setImageDiskCache</a></span>(java.lang.String&nbsp;url)</code>
<div class="block">Attempt to get the image bitmap from the disk cache.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private android.graphics.Bitmap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#setImageNetwork-java.lang.String-">setImageNetwork</a></span>(java.lang.String&nbsp;url)</code>
<div class="block">Attempt to get the image bitmap from the network.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private android.graphics.Bitmap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#setImageNullCheck-java.lang.String-">setImageNullCheck</a></span>(java.lang.String&nbsp;url)</code>
<div class="block">If no image url was provided, then try to provide a bitmap for default image.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#trace-java.lang.String-">trace</a></span>(java.lang.String&nbsp;msg)</code>
<div class="block">Tracing method for this class.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="IMAGE_HSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IMAGE_HSIZE</h4>
<pre>private static final&nbsp;int IMAGE_HSIZE</pre>
<div class="block">Max. number of height pixels in product image.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.barryholroyd.prodlisthpdemo.product_info.ImageLoader.IMAGE_HSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="IMAGE_WSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IMAGE_WSIZE</h4>
<pre>private static final&nbsp;int IMAGE_WSIZE</pre>
<div class="block">Max. number of width pixels in product image.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.barryholroyd.prodlisthpdemo.product_info.ImageLoader.IMAGE_WSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="cacheMemory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheMemory</h4>
<pre>public static&nbsp;<a href="../../../../com/barryholroyd/prodlisthpdemo/cache_memory/CacheMemoryImage.html" title="class in com.barryholroyd.prodlisthpdemo.cache_memory">CacheMemoryImage</a> cacheMemory</pre>
<div class="block">In-memory caching instance.</div>
</li>
</ul>
<a name="cacheDiskImage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheDiskImage</h4>
<pre>private static&nbsp;<a href="../../../../com/barryholroyd/prodlisthpdemo/cache_disk/CacheDiskImage.html" title="class in com.barryholroyd.prodlisthpdemo.cache_disk">CacheDiskImage</a> cacheDiskImage</pre>
<div class="block">Disk caching instance (singleton).</div>
</li>
</ul>
<a name="blankImageBitmap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blankImageBitmap</h4>
<pre>private static final&nbsp;android.graphics.Bitmap blankImageBitmap</pre>
<div class="block">Blank image bitmap used to fill the header "image" slot.</div>
</li>
</ul>
<a name="wrActivity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wrActivity</h4>
<pre>private&nbsp;java.lang.ref.WeakReference&lt;android.app.Activity&gt; wrActivity</pre>
<div class="block">Weak Reference for using the Activity in background threads.</div>
</li>
</ul>
<a name="resources">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resources</h4>
<pre>private&nbsp;android.content.res.Resources resources</pre>
<div class="block">Resources hook.</div>
</li>
</ul>
<a name="currentUrl">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>currentUrl</h4>
<pre>private&nbsp;java.lang.String currentUrl</pre>
<div class="block">This stores the most current requested url for the ViewHolder instance.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html#checkUrlChanged-java.lang.String-java.lang.String-java.lang.String-"><code>checkUrlChanged(String, String, String)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ImageLoader-android.app.Activity-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ImageLoader</h4>
<pre>public&nbsp;ImageLoader(android.app.Activity&nbsp;a)</pre>
<div class="block">Standard constructor.
 <p>
 Initializes caches and stores a WeakReference to the current Activity.
 <p>
     The Activity instance is used to print Toasts from the background and
     to call runOnUiThread() from a worker thread. We use a WeakReference so
     that we can determine whether or not it is still valid (e.g., a device
     rotation will destroy the current Activity).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>a</code> - the current Activity.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="load-android.widget.ImageView-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public&nbsp;void&nbsp;load(android.widget.ImageView&nbsp;iv,
                 java.lang.String&nbsp;url)</pre>
<div class="block">Load an image into an ImageView.
 <p>
 Two different approaches are implemented: one threads-based and one AsyncTask-based.
 <ol>
     <li> Attempt to load from memory cache.
     <li> If that fails, load from background. At each step, check to see if the
          URL loaded from is the same as the current URL (it may have changed if
          the containing ViewHolder got re-allocated). If it is the same, then load
          it into the ImageView (in the main/UI thread). If it is different, ignore
          and do nothing (the new URL will have already been either loaded or queued
          to be loaded).
     <ol>
         <li>Attempt to load from disk cache. If successful, add to memory cache.
         <li>Otherwise, attempt to load from network. If successful, add to memory
             cache and disk cache.
         <li>Otherwise, load a default place-holder image.
     </ol>
 </ol></div>
</li>
</ul>
<a name="setImageNullCheck-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setImageNullCheck</h4>
<pre>private&nbsp;android.graphics.Bitmap&nbsp;setImageNullCheck(java.lang.String&nbsp;url)</pre>
<div class="block">If no image url was provided, then try to provide a bitmap for default image.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - url for the image.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a default image bitmap if no image url was provided; else null.
            null indicates that the caller should continue processing -- the url is valid
            and we still need the bitmap.</dd>
</dl>
</li>
</ul>
<a name="setImageDiskCache-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setImageDiskCache</h4>
<pre>private&nbsp;android.graphics.Bitmap&nbsp;setImageDiskCache(java.lang.String&nbsp;url)</pre>
<div class="block">Attempt to get the image bitmap from the disk cache.

 If successful, add it to the memory cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - url for the image.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>bitmap from the image.</dd>
</dl>
</li>
</ul>
<a name="setImageNetwork-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setImageNetwork</h4>
<pre>private&nbsp;android.graphics.Bitmap&nbsp;setImageNetwork(java.lang.String&nbsp;url)</pre>
<div class="block">Attempt to get the image bitmap from the network.

 If successful, add it to the memory and disk caches.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - url for the image.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>bitmap from the image.</dd>
</dl>
</li>
</ul>
<a name="checkUrlChanged-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkUrlChanged</h4>
<pre>private&nbsp;java.lang.String&nbsp;checkUrlChanged(java.lang.String&nbsp;label,
                                         java.lang.String&nbsp;url,
                                         java.lang.String&nbsp;currentUrl)</pre>
<div class="block">Check to see if the url has changed.
 <p>
 Even though <code>url</code> will have just been set to <code>currentUrl</code> before starting the
 thread which calls this method, time may have passed and the value of
 currentUrl may have changed. This can happen, for example, when the <code>ViewHolder</code>
 gets recycled. All of its other fields will have been updated to reflect the
 new row it is responsible for, but the image field may not have been updated
 in time. When this occurs, we simply log the event and then try to load the
 image from the new url instead. (That is a small optimization since that url
 would also get loaded subsequently by a newer thread.) Most importantly, we
 do <i>not</i> load the "old" image.
 <p>
 Since <code>url</code> is passed in to the constructor and stored locally, it retains
 the original value. Since <code>currentUrl</code> is a field of <code>ProductListViewHolder</code>,
 its current value is accessible to the caller of this method
 (<code>LiThread</code>'s <code>run()</code>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - original url</dd>
<dd><code>currentUrl</code> - updated (potentially different) url</dd>
</dl>
</li>
</ul>
<a name="getNoImageBitmap-android.content.res.Resources-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNoImageBitmap</h4>
<pre>static&nbsp;android.graphics.Bitmap&nbsp;getNoImageBitmap(android.content.res.Resources&nbsp;resources)</pre>
<div class="block">Get the default image.</div>
</li>
</ul>
<a name="getBlankImageBitmap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlankImageBitmap</h4>
<pre>static&nbsp;android.graphics.Bitmap&nbsp;getBlankImageBitmap()</pre>
<div class="block">Create a blank image.</div>
</li>
</ul>
<a name="trace-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>trace</h4>
<pre>private static&nbsp;void&nbsp;trace(java.lang.String&nbsp;msg)</pre>
<div class="block">Tracing method for this class.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - message to be logged.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImageLoader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/GetProducts.WmpJsonReader.html" title="class in com.barryholroyd.prodlisthpdemo.product_info"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.LiAsyncTask.html" title="class in com.barryholroyd.prodlisthpdemo.product_info"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/barryholroyd/prodlisthpdemo/product_info/ImageLoader.html" target="_top">Frames</a></li>
<li><a href="ImageLoader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
